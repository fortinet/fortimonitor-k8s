apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Chart.Name }}
data:
  CUSTOMER_KEY: {{ quote .Values.customerKey }}
  APPLIANCE_KEY: {{ quote .Values.onsightKey }}
  CLUSTER_NAME: {{ quote .Values.clusterName }}
  FM_MEDIATOR_URL: {{ quote .Values.mediatorUrl }}
  AGGREGATOR_URL: {{ quote .Values.aggregatorUrl }}
  AGENT_CONFIG: {{ quote .Values.agentConfig | replace "\\n" "\\\\n" }}
  TOP_N_NAMESPACES: {{ quote .Values.topNNamespaces }}
  PANOPTA_NAMESPACE: {{ quote .Release.Namespace }}
  KUBE_STATE_ENDPOINT: "http://{{ .Chart.Name }}-kube-state-metrics.{{ .Release.Namespace }}.svc:8080"
  FM_CHART_VERSION: {{ quote .Chart.Version }}
